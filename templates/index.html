{% extends "base.html" %}
{% block content %}
<h2 class="mb-4">Generate Past Papers</h2>
<form method="POST" class="card p-4 shadow-sm">
  <div class="mb-3">
    <label class="form-label">Subject</label>
    <select name="subject_code" class="form-select" required>
      <option value="">-- Select Subject --</option>
      {% for code, name in subjects.items() %}
        <option value="{{ code }}" {% if selected_subject==code %}selected{% endif %}>{{ name|capitalize }} ({{ code }})</option>
      {% endfor %}
    </select>
  </div>

  <div class="mb-3">
    <label class="form-label">Paper Number</label>
    <input type="text" name="paper_number" class="form-control" placeholder="e.g. 1" value="{{ entered_paper or '' }}" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Year Range</label>
    <input type="text" name="year_range" class="form-control" placeholder="2018-2023" value="{{ entered_years or '' }}" required>
  </div>

  <div class="mb-3">
    <label class="form-label">Sessions</label><br>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" name="sessions" value="m" {% if 'm' in selected_sessions %}checked{% endif %}>
      <label class="form-check-label">March</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" name="sessions" value="s" {% if 's' in selected_sessions %}checked{% endif %}>
      <label class="form-check-label">Summer</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="checkbox" name="sessions" value="w" {% if 'w' in selected_sessions %}checked{% endif %}>
      <label class="form-check-label">Winter</label>
    </div>
  </div>

  <div class="form-check mb-2">
    <input class="form-check-input" type="checkbox" name="include_ms" {% if checked_ms %}checked{% endif %}>
    <label class="form-check-label">Include Mark Schemes</label>
  </div>

  <div class="form-check mb-4">
    <input class="form-check-input" type="checkbox" name="generate_topical" {% if checked_topical %}checked{% endif %}>
    <label class="form-check-label">Generate Topical PDFs</label>
  </div>

  <button type="submit" class="btn btn-primary w-100">Generate</button>
</form>
{% endblock %}
